# ---------------- user

### login
POST http://localhost:3000/auth/sign-in/ HTTP/1.1
Content-Type: application/json

{"username":"admin","password":"123456789"}

### logout
GET http://localhost:3000/auth/sign-out/ HTTP/1.1

### signup
 
POST http://localhost:3000/auth/signup/ HTTP/1.1
Content-Type: application/json

{"username":"usertest28", "email":"votrantien@ymail.com","password":"123456789","farm":"5"}


### vao trang user
GET http://localhost:3000/user/ HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwYzQ5MzUyMmVhNDVjMzhkMDUwNDQ2MiIsImlhdCI6MTYyNDk0MzAyMywiZXhwIjoxNjI1MjAyMjIzfQ.3CLkIbDHclcyT7R09NvtlahSNmb5oI1_0gg6kJGn72A

### reset pass
 
POST http://localhost:3000/user/reset-password HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwYzQ5MzUyMmVhNDVjMzhkMDUwNDQ2MiIsImlhdCI6MTYyNDk0MzAyMywiZXhwIjoxNjI1MjAyMjIzfQ.3CLkIbDHclcyT7R09NvtlahSNmb5oI1_0gg6kJGn72A


### doi mat khau

PUT http://localhost:3000/user/change-password/admin HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwYzQ5MzUyMmVhNDVjMzhkMDUwNDQ2MiIsImlhdCI6MTYyNDk0MzAyMywiZXhwIjoxNjI1MjAyMjIzfQ.3CLkIbDHclcyT7R09NvtlahSNmb5oI1_0gg6kJGn72A

{"old_password":"12345678","new_password":"123456789"}


# -------------- device

### tao moi thiet bi
# aplication/json post create
POST http://localhost:3000/device/create HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwYzQ5MzUyMmVhNDVjMzhkMDUwNDQ2MiIsImlhdCI6MTYyNDk0MzAyMywiZXhwIjoxNjI1MjAyMjIzfQ.3CLkIbDHclcyT7R09NvtlahSNmb5oI1_0gg6kJGn72A

{"device_code":"DEVCODE1367", "device_type_id":"60cad0ddc1e824108c785a5b", "device_name":"DEVNAME", "device_model":"devmodel", "sn_number":"123456789136", "fw_number":"987654321",  "mfg":"mfg", "id_user_add_device":"60c493522ea45c38d0504462", "location":"8"}
### lay all thiet bi
GET http://localhost:3000/device/list HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwYzQ5MzUyMmVhNDVjMzhkMDUwNDQ2MiIsImlhdCI6MTYyNDk0MzAyMywiZXhwIjoxNjI1MjAyMjIzfQ.3CLkIbDHclcyT7R09NvtlahSNmb5oI1_0gg6kJGn72A
### sua thong tin thiet bi
PUT http://localhost:3000/device/update/60ceb8390674020c8067c158 HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwYzQ5MzUyMmVhNDVjMzhkMDUwNDQ2MiIsImlhdCI6MTYyNDk0MzAyMywiZXhwIjoxNjI1MjAyMjIzfQ.3CLkIbDHclcyT7R09NvtlahSNmb5oI1_0gg6kJGn72A

{"device_code":"DEVCODE1367", "device_type_id":"60cad0ddc1e824108c785a5b", "device_name":"DEVNAME", "device_model":"devmodel", "sn_number":"123456789136", "fw_number":"987654321",  "mfg":"mfg", "id_user_add_device":"60c493522ea45c38d0504462", "location":"8"}

### xoa thiet bi

DELETE  http://localhost:3000/device/delete/60c8237d160e790208baa903 HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwYzQ5MzUyMmVhNDVjMzhkMDUwNDQ2MiIsImlhdCI6MTYyNDk0MzAyMywiZXhwIjoxNjI1MjAyMjIzfQ.3CLkIbDHclcyT7R09NvtlahSNmb5oI1_0gg6kJGn72A

### lay thiet bi theo id thiet bi
GET http://localhost:3000/device/60cacee15e4f992798feba65 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwYzQ5MzUyMmVhNDVjMzhkMDUwNDQ2MiIsImlhdCI6MTYyNDk0MzAyMywiZXhwIjoxNjI1MjAyMjIzfQ.3CLkIbDHclcyT7R09NvtlahSNmb5oI1_0gg6kJGn72A
###

# ------------- device type
### tao loai thiet bi
POST http://localhost:3000/device-type/create HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwYzQ5MzUyMmVhNDVjMzhkMDUwNDQ2MiIsImlhdCI6MTYyNDk0MzAyMywiZXhwIjoxNjI1MjAyMjIzfQ.3CLkIbDHclcyT7R09NvtlahSNmb5oI1_0gg6kJGn72A

{
   "prefix":"NOCO",
   "device_type":"node CO2",
   "description":"Đọc CO2 trong không khí (ppm)"
}
###

### API Device
### đăng ký thiết bị
### tao moi thiet bi
# aplication/json post create
POST http://localhost:3000/device/register-device HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwYzQ5MzUyMmVhNDVjMzhkMDUwNDQ2MiIsImlhdCI6MTYyNDk0MzAyMywiZXhwIjoxNjI1MjAyMjIzfQ.3CLkIbDHclcyT7R09NvtlahSNmb5oI1_0gg6kJGn72A

{
   "Serial":"AHSD12345678",
   "Action":"registor",
   "Token":"hsvhjv565jhdvzjhv",
   "Fw":"1.00",
   "Hw":"1.00",
   "Date":"2021-06-20",
   "Country":"Viet Nam"
}